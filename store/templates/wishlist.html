{% extends 'base.html' %} 
{% load static %} 
{% block toggler %}
<li class="nav-item">
  <a class="nav-link" href="{% url 'store:home-page' %}">Home</a>
  <span class="sr-only">(current)</span>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'store:products-list' %}">Products</a>
  <span class="sr-only">(current)</span>
</li>
<li class="nav-item dropdown">
  <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">More</a>
  <span class="sr-only">(current)</span>
  <div class="dropdown-menu">
    <a class="dropdown-item" href="{% url 'store:about-us' %}">About Us</a>
    <a class="dropdown-item" href="{% url 'store:contact-us' %}">Contact Us</a>
    <a class="dropdown-item" href="{% url 'store:terms' %}">Terms & Conditions</a>
  </div>
</li>
{% if request.user.is_authenticated %}
<li class="nav-item dropdown active">
  <a
    class="nav-link dropdown-toggle"
    data-toggle="dropdown"
    href="#"
    role="button"
    aria-haspopup="true"
    aria-expanded="false"
    >Account</a
  >
  <span class="sr-only">(current)</span>
  <div class="dropdown-menu">
    <a class="dropdown-item" href="{% url 'store:wishlist' %}">Wishlist</a>
    <a class="dropdown-item" href="{% url 'store:cart-page' %}">Cart</a>
    <a class="dropdown-item" href="{% url 'store:order_history' %}"
      >My Orders</a
    >
    <a class="dropdown-item" href="{% url 'password_reset' %}"
      >Change credentials</a
    >
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="{% url 'logout-page' %}">Logout</a>
</li>
{% else %}
<li class="nav-item">
  <a class="nav-link" href="{% url 'login-page' %}">Login</a>
</li>
{% endif %} {% endblock toggler %} {% block content %}
<div
  class="page-heading about-heading header-text"
  style="background-image: {% static 'images/heading-6-1920x500.jpg' %};"
>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="text-content">
          <h2>Wishlist</h2>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="products">
  <div class="container">
    <div class="row">
      {% if wishlist %} 

        {% for product in wishlist %}
        <div class="col-md-4">
          <div class="product-item shadow rounded">
            <a href="{{ product.get_absolute_url }}">
              <img src="{{ product.image.url }}" alt=""/>
            </a>
            <div class="down-content">
              <a href="{{ product.get_absolute_url }}">
                <h4>{{product.title}} ({{ product.size }})</h4>
              </a>
              <h6>
                {% if product.discount_price %}
                <small><del>Rs.{{ product.price }}</del></small>
                Rs.{{ product.discount_price }} 
                {% else %} 
                Rs.{{ product.price}} 
                {% endif %}
              </h6>
              <p>{{ product.description|truncatechars:40 }}</p>
            </div>

            <div class="container">
              <div class="row">
                <div class="col-sm-3" style="padding-left:40px;">
                <a href="{% url 'store:add_wishlist' product.id %}" class="filled-button shadow rounded" style="padding:14px;"><i class="fa fa-heart"></i></a>
                </div> 
                <div class="col-sm-8">
                  <a href="{{ product.get_add_to_cart_url }}" class="filled-button shadow rounded">
                    Add to Cart
                  </a>
                </div>
              </div>
            </div> <br> 
          </div> 
        </div>
        {% endfor %} 
      </div>
      {% else %}
      <div class="col" style="text-align:center">
      <p>No products have been added to your wishlist yet!</p></div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock content%}